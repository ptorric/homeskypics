<html>

<body>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.js"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.css" rel="stylesheet" type="text/css" />

  <script src="js/load-image.all.min.js"></script>
  <script src="js/vuedev.js"></script>
  <script src="js/three.min.js"></script>
  <script src="js/OrbitControls.js"></script>

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>


  <div id="myApp">

    <nav class="navbar navbar-default">
      <div class="container-fluid">
      <!-- Brand and toggle get grouped for better mobile display -->
      <div class="navbar-header">

        <ul class="nav navbar-nav">
          <li>
            <a class="navbar-brand" href="#">
              <p>Home Sky Pics</p>
            </a>
          </li>
          <li>
            <label>Immagine:</label>
            <input type="file" id="file-input" v-on:change="load" v-on:load="load2">
          </li>
          <li>
            <button v-on:click="bw">BW</button>
            <button v-on:click="histo">H</button>
            <button v-on:click="cerchi">C</button>
            <button v-on:click="invert">Invert</button>
            <button v-on:click="draw">Draw</button>
            <button v-on:click="add">Add</button>
            <button v-on:click="add2">Add2</button>
            <input type="number" v-model="soglia" />
            <button v-on:click="filter">Filter</button>
            <br/>
            x={{x}} y={{y}} xw={{xw}} yx={{yw}} ax={{ax}} ay={{ay}}
          </li>
          <li>
            <div class="navbar-brand">
              <div v-if="cv">{{msg}}</div>
              <div v-else>loading openCV...</div>
            </div>
          </li>
        </ul>

      </div>
    </nav>

    <hr>
    <div style="backgroup-color:lightgrey" >
      <canvas id="immagine" style="border: 1px solid lightgrey" v-bind:width="w/2" v-bind:height="h/2" ref="immagine" v-on:mousedown="click1" v-on:mouseup="click2" v-on:mousemove="move"></canvas>
      <div id="visgraph"></div>
    </div>
    <hr>
    <div style="backgroup-color:lightgrey" >
      <canvas id="immaginetmp" style="border: 1px solid lightgrey" v-bind:width="w/2" v-bind:height="h/2" ref="immaginetmp"></canvas>
      <img id="imageSrc" alt="No Image" style="display: none" v-on:load="load2"/>
    </div>
    <hr>
  </div>

  <script>

    function onOpenCvReady() {
      myApp.cv = true;
      myApp.msg="powered by OpenCV";
    };
  </script>
  <script src="js/imgtools.js" type="text/javascript"></script>
  <script src="js/myapp.js" type="text/javascript"></script>
  <script async src="js/opencv.js" onload="onOpenCvReady();" type="text/javascript"></script>

</body>

</html>
